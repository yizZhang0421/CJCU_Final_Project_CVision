import requests as req
idtoken='eyJhbGciOiJSUzI1NiIsImtpZCI6IjA5MDVkNmY5Y2Q5YjBmMWY4NTJlOGIyMDdlOGY2NzNhYmNhNGJmNzUiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI0ODQyMTAzMjEzODUtNXZkNzNzYWVmdTdsZHJ0Y2I3ajg4NzBuNXRnOGw4YjUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI0ODQyMTAzMjEzODUtNXZkNzNzYWVmdTdsZHJ0Y2I3ajg4NzBuNXRnOGw4YjUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTAwOTg1NDA2NDU5MDA1NTQ0NzAiLCJhdF9oYXNoIjoiaUhjRkxzZ09QWFNsOW04WXdieUZMZyIsIm5hbWUiOiLlvLXpgLjlrpciLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDYuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy1qTU84MjdyLVBZMC9BQUFBQUFBQUFBSS9BQUFBQUFBQUFBQS9BQ0hpM3Jma3FTcEhQdWpMLVota2xZdDdLMUJYTnExQjBRL3M5Ni1jL3Bob3RvLmpwZyIsImdpdmVuX25hbWUiOiLpgLjlrpciLCJmYW1pbHlfbmFtZSI6IuW8tSIsImxvY2FsZSI6InpoLVRXIiwiaWF0IjoxNTUyOTgzOTExLCJleHAiOjE1NTI5ODc1MTF9.E9QHuPm1vTnTP1aUQLX-f0U-9HOOkF7K3t7D6MCpdyexr2a19zqIfJsCh9rCBn-T_nwUIs7hyoQEG_iQ8gkqjmtUuH24fkerhTN_kVlnayUvaVMmlXxJW-PF52-fag4VEkHHaNfPqeA0jah-Hf4VumYJHCe-IFnpyRzjVFQR1lpRcGqo1pG-oQsclVBnb5M8h-pJNQfGj2F-Rsuk7Wp5OmtW-xxlfyTxrtXdy2p72xaQHBG1a6tauCRa3-5Gyje_Nm3Ze72TeGoUGqryLOKq5U0Mm1PGgdc5b42rDcaGTJGM7rA2Vqw7cCRQ_1RUCG0gQEteIupGIEkoR1j8YUHqHg'
res=req.post(url='http://127.0.0.1:8080/model_list',data={'idtoken':idtoken})
print(res.text)





from google.oauth2 import id_token
from google.auth.transport import requests as google_requests
def isInvalid(idtoken):
    try:
        idinfo=id_token.verify_oauth2_token(idtoken, google_requests.Request(), '484210321385-5vd73saefu7ldrtcb7j8870n5tg8l8b5.apps.googleusercontent.com')
        print(idinfo)
        return idinfo['email']
    except:
        return True
    
isInvalid(idtoken)
    
